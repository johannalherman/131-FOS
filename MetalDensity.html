<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Measure Shapes</title>
  <style>
    body {
      max-width: 1000px;
      margin: auto;
      font-family: Arial, sans-serif;      
      padding: 20px;
      text-align: center;          
    }
        
    #instruction-message {
      font-size: 18px;
      margin: auto;
      text-align: left;
    }
    
    hr {
      border: 5px solid #FF2E37;
      border-radius: 5px;
    }
    
    #dropdown-container {
      margin: auto;
      margin-top: 4%;
      font-weight: bold;
      width: 650px;
      gap: 10px;
      padding: 10px 30px;
      background-color: #ffd7e1;
      border: 2px solid black;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    #resetButton {
      color: black;
      background-image: linear-gradient(#ff9ab3, #fedee6 50%, #ff9ab3);
      padding: 10px 20px;
      margin-left: 40px;
      border: 1px solid #FF2E37;
      user-select: none;
    }
    #resetButton:hover {
      border: 1px solid white;
    }

    #drag-ruler {
      right: 50%; transform: translateX(50%);
      /* Add your preferred styles for the ruler */
      width: 570px;
      height: 30px;
      background-color: darkblue;
      opacity: 0.75;
      text-align: right;
      padding-right: 10px;
      color: white;
      padding-top: 15px;
      border-radius: 1px;
      box-shadow: 1px 1px 1px black;
      z-index: 1000;  /* Add this line */
      bottom: 40%;
      user-select: none;
    }

    #cmText {
      transform: rotate(90deg);
      color: white;
    }

    #shape-buttons {
      display: flex;
      justify-content: center;  /* Center horizontally */
      align-items: center;  /* Align items vertically */
      margin: 20px;
      gap: 10px;
      user-select: none;
    }

    .shape-button {
      padding: 10px 15px;
      font-size: 14px;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
      color: black;
      background-image: linear-gradient(#ff9ab3, #fedee6 50%, #ff9ab3);
      transition: background-color 0.3s;
    }
    .shape-button:hover {
      border: 1px solid white;
    }
    .shape-button:focus {
      padding: 7px 12px;
      border: 4px solid black;
    }

    #shapes-container {      
      display: flex;
      justify-content: center;
      flex-direction: column;
      padding-top: 30px;
      padding-bottom: 30px;
      min-height: 500px;
      gap: 50px;
      width: 100%;
    }

    .shape-container {
      display: flex;
      justify-content: center;
    }
    
    .sphere {
      width: 30px;
      height: 30px;
      border-radius: 50%;
    }
    
    .cube {
      width: 50px;
      height: 30px;
    }
    
    .cylinder {
      width: 30px;
      height: 40px;
      border-radius: 10px;
    }
    
  </style>
</head>
<body>
<div id="instruction-message">
<h2 style="font-size: 24pt; color: #ff2e37; text-align: left;">
<strong>Simulation Instructions</strong>
</h2>
<p>
Use this lab simulation to follow along with your Illustrated Experimental Plan for the FOS Lab Period 1 Experiment.
  <ol>
  <li>To begin, use the <strong>drop-down menu</strong> to select your assigned set of metal pieces.</li>
  <li>Then use the <strong>ADD buttons</strong> to display the three viewing angles for each piece of your assigned metal.</li>
  <li>You can drag the ruler to measure the pieces individually. Each piece will be displayed from three viewing angles, so that all three sides of the object can be measured. Keep in mind that the three displayed images are representing a single object!</li>
  </ol>
</p>
<p>
You can restart the simulation at any time by clicking on the <strong>Reset All Controls</strong> button.
</p>
</div>
<hr>
<div id="dropdown-container">
  <label for="shapeSetSelector">Select Assigned Metal:</label>
  <select id="shapeSetSelector">
    <option value="" selected>Choose from Dropdown</option>
    <option value="set1">Set 1</option>
    <option value="set2">Set 2</option>
    <option value="set3">Set 3</option>
  </select>
  <button id="resetButton" class="shape-button">Reset All Controls</button>
</div>
<div id="drag-ruler" style="position:absolute; cursor:move;"><span id="cmText">cm</span></div>
<div id="shape-buttons" style="display: none;">
  <button id="View1" class="shape-button">Add Ellipsoid</button>
  <button id="View2" class="shape-button">Add Cuboid</button>
  <button id="View3" class="shape-button">Add Cylinder</button>
</div>
<div id="shapes-container"></div>
<hr>
<script>
  // JavaScript to make the ruler draggable:
  var dragRuler = document.querySelector('#drag-ruler');
  var draggingRuler = false;

  document.onmousedown = function(event) {
    if (event.target == dragRuler) {
      draggingRuler = true;
      moveAt(event.pageX, event.pageY);
    }
  };

  document.onmousemove = function(event) {
    if (draggingRuler) {
      moveAt(event.pageX, event.pageY);
    }
  };

  document.onmouseup = function(event) {
    draggingRuler = false;
  };

  function moveAt(pageX, pageY) {
    dragRuler.style.left = pageX - dragRuler.offsetWidth / 2 + 'px';
    dragRuler.style.top = pageY - dragRuler.offsetHeight / 2 + 'px';
  }

  // Generate ticks
  for (let i = 5; i <= 105; i ++) {
    var tick = document.createElement('div');
    tick.style.width = '1px';
    tick.style.position = 'absolute';
    tick.style.left = i * 5 + 'px';
    tick.style.bottom = '0';
    tick.style.background = 'white';

    if (i % 10 === 0) {  // every 10th tick mark
      tick.style.height = '10px';
    } else if (i % 5 === 0) {  // every 5th tick mark
      tick.style.height = '15px';
      let label = document.createElement('div');
      label.textContent = (i - 5) / 10;  // Set the label text to the current tick number
      label.style.position = 'absolute';
      label.style.top = '-20px';  // Adjust this value as needed
      label.style.left = '-4px';  // Adjust this value as needed
      label.style.color = 'white';
      tick.appendChild(label);

    } else {  // default tick mark
      tick.style.height = '5px';
    }

    dragRuler.appendChild(tick);
  }


document.getElementById("resetButton").addEventListener("click", () => {
    // Clear shapes
    document.getElementById("shapes-container").innerHTML = "";

    // Reset the dropdown
    const shapeSetSelector = document.getElementById("shapeSetSelector");
    shapeSetSelector.value = "";

    // Hide the shape buttons
    document.getElementById("shape-buttons").style.display = "none";

    // Reset the ruler position to the center
    const dragRuler = document.getElementById("drag-ruler");
    dragRuler.style.top = `700px`;
});



  const set1Colors = ["#ffc87fff", "#ffc87fff", "#ffc87fff"];
  const set2Colors = ["#e69b56ff", "#e69b56ff", "#e69b56ff"];
  const set3Colors = ["#b7b7b7ff", "#b7b7b7ff", "#b7b7b7ff"];
  

  function addShapes(shapeClasses, dimensions, colorSet) {
    const mainContainer = document.getElementById('shapes-container');
    mainContainer.innerHTML = '';
    for (let i = 0; i < dimensions.length; i++) {
      const shapeElement = document.createElement('div');
      shapeElement.classList.add(shapeClasses[i]);
      shapeElement.style.width = dimensions[i].width + 'px';
      shapeElement.style.height = dimensions[i].height + 'px';
      const gradient = `linear-gradient(to right, ${colorSet.join(",")})`;
      shapeElement.style.background = gradient;
      const shapeContainer = document.createElement('div');
      shapeContainer.classList.add('shape-container');
      shapeContainer.appendChild(shapeElement);
      mainContainer.appendChild(shapeContainer);
    }
  }

  const sphereSet1Dimensions = [
    { width: 53.1, height: 48.8 },
    { width: 48.8, height: 58.3 },
    { width: 58.3, height: 53.1 },
  ];

  const sphereSet2Dimensions = [
    { width: 67.1, height: 56.8 },
    { width: 56.8, height: 62.7 },
    { width: 62.7, height: 67.1 },
  ];

  const sphereSet3Dimensions = [
    { width: 52.6, height: 63.9 },
    { width: 63.9, height: 59.2 },
    { width: 59.2, height: 52.6 },
  ];

  const cubeSet1Dimensions = [
    { width: 243.8, height: 52.2 },
    { width: 52.2, height: 24.5 },
    { width: 24.5, height: 52.2 },
  ];

  const cubeSet2Dimensions = [
    { width: 200.6, height: 63.9 },
    { width: 63.9, height: 42.3 },
    { width: 42.3, height: 63.9 },
  ];

  const cubeSet3Dimensions = [
    { width: 217.9, height: 53.3 },
    { width: 53.3, height: 46.8 },
    { width: 46.8, height: 53.3 },
  ];

  const cylinderSet1Dimensions = [
    { width: 212.9, height: 58.6 },
    { width: 58.6, height: 51.2 },
    { width: 51.2, height: 58.6 },
  ];

  const cylinderSet2Dimensions = [
    { width: 215.2, height: 49.2 },
    { width: 49.2, height: 57.1 },
    { width: 57.1, height: 49.2 },
  ];

  const cylinderSet3Dimensions = [
    { width: 254.6, height: 48.1 },
    { width: 48.1, height: 29.5 },
    { width: 29.5, height: 48.1 },
  ];


  document.getElementById("View1").addEventListener("click", () => {
    const selectedSet = document.getElementById("shapeSetSelector").value;
    let dimensions;
    let colorSet;
    let shapeClasses;
    switch (selectedSet) {
      case 'set1':
        dimensions = sphereSet1Dimensions;
        colorSet = set1Colors;
        shapeClasses = ["sphere", "sphere", "sphere"];
        break;
      case 'set2':
        dimensions = sphereSet2Dimensions;
        colorSet = set2Colors;
        shapeClasses = ["sphere", "sphere", "sphere"];
        break;
      case 'set3':
        dimensions = sphereSet3Dimensions;
        colorSet = set3Colors;
        shapeClasses = ["sphere", "sphere", "sphere"];
        break;
      default:
        dimensions = []; // Default to an empty array
    }
    addShapes(shapeClasses, dimensions, colorSet);
  });

  document.getElementById("View2").addEventListener("click", () => {
    const selectedSet = document.getElementById("shapeSetSelector").value;
    let dimensions;
    let colorSet;
    let shapeClasses;
    switch (selectedSet) {
      case 'set1':
        dimensions = cubeSet1Dimensions;
        colorSet = set1Colors;
        shapeClasses = ["cube", "cube", "cube"];
        break;
      case 'set2':
        dimensions = cubeSet2Dimensions;
        colorSet = set2Colors;
        shapeClasses = ["cube", "cube", "cube"];
        break;
      case 'set3':
        dimensions = cubeSet3Dimensions;
        colorSet = set3Colors;
        shapeClasses = ["cube", "cube", "cube"];
        break;
      default:
        dimensions = []; // Default to an empty array
    }
    addShapes(shapeClasses, dimensions, colorSet);
  });

  document.getElementById("View3").addEventListener("click", () => {
    const selectedSet = document.getElementById("shapeSetSelector").value;
    let dimensions;
    let colorSet;
    let shapeClasses;
    switch (selectedSet) {
      case 'set1':
        dimensions = cylinderSet1Dimensions;
        colorSet = set1Colors;
        shapeClasses = ["cylinder", "sphere", "sphere"];
        break;
      case 'set2':
        dimensions = cylinderSet2Dimensions;
        colorSet = set2Colors;
        shapeClasses = ["cylinder", "sphere", "sphere"];
        break;
      case 'set3':
        dimensions = cylinderSet3Dimensions;
        colorSet = set3Colors;
        shapeClasses = ["cylinder", "sphere", "sphere"];
        break;
      default:
        dimensions = []; // Default to an empty array
    }
    addShapes(shapeClasses, dimensions, colorSet);
  });

  document.getElementById("shapeSetSelector").addEventListener("change", function(event) {
    document.getElementById("shape-buttons").style.display = event.target.value ? "flex" : "none";
    document.getElementById("shapes-container").innerHTML = "";
  });

</script>
</body>
</html>
